<?php

namespace Setting\Bundle\ContentBundle\Repository;

use Doctrine\ORM\EntityRepository;

/**
 * SyndicateContentRepository
 *
 * This class was generated by the Doctrine ORM. Add your own custom
 * repository methods below.
 */
class SyndicateContentRepository extends EntityRepository
{

    public function insertContent($id,$user)
    {
        $em = $this->_em;
        $reEntity = $em->getRepository('SettingToolBundle:Syndicate')->find($id);

        if($reEntity){
            $entity = new SyndicateContent();
            $entity->setUser($user);
            $entity->setSyndicate($reEntity);
            $entity->setName($reEntity->getName());
            $entity->setSlug($reEntity->getSlug());
            $entity->setStatus(true);
            $em->persist($entity);
            $em->flush();
        }


    }

}
