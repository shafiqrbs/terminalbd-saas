<?php

namespace Appstore\Bundle\HospitalBundle\Repository;
use Doctrine\ORM\EntityRepository;
use Setting\Bundle\ToolBundle\Entity\GlobalOption;

/**
 * HospitalConfigRepository
 *
 * This class was generated by the Doctrine ORM. Add your own custom
 * repository methods below.
 */
class HospitalConfigRepository extends EntityRepository
{


    public function hospitalReset(GlobalOption $option)
    {

        $em = $this->_em;
        $config = $option->getHospitalConfig()->getId();

        $DoctorInvoice = $em->createQuery('DELETE HospitalBundle:DoctorInvoice e WHERE e.hospitalConfig = '.$config);
        $DoctorInvoice->execute();

        $Invoice = $em->createQuery('DELETE HospitalBundle:Invoice e WHERE e.hospitalConfig = '.$config);
        $Invoice->execute();

        $reverse = $em->createQuery('DELETE HospitalBundle:HmsReverse e WHERE e.hospitalConfig = '.$config);
        $reverse->execute();

       // $PathologicalReport = $em->createQuery('DELETE HospitalBundle:PathologicalReport e WHERE e.hospitalConfig = '.$config);
       // $PathologicalReport->execute();

        $hmsPurchase = $em->createQuery('DELETE HospitalBundle:HmsPurchase e WHERE e.hospitalConfig = '.$config);
        $hmsPurchase->execute();

      //  $Particular = $em->createQuery('DELETE HospitalBundle:Particular e WHERE e.hospitalConfig = '.$config);
       // $Particular->execute();

    }

    public function hospitalDelete(GlobalOption $option)
    {

        $em = $this->_em;
        $config = $option->getHospitalConfig()->getId();

        $DoctorInvoice = $em->createQuery('DELETE HospitalBundle:DoctorInvoice e WHERE e.hospitalConfig = '.$config);
        $DoctorInvoice->execute();

        $Invoice = $em->createQuery('DELETE HospitalBundle:Invoice e WHERE e.hospitalConfig = '.$config);
        $Invoice->execute();

        $reverse = $em->createQuery('DELETE HospitalBundle:HmsReverse e WHERE e.hospitalConfig = '.$config);
        $reverse->execute();

        $PathologicalReport = $em->createQuery('DELETE HospitalBundle:PathologicalReport e WHERE e.hospitalConfig = '.$config);
        $PathologicalReport->execute();

        $hmsPurchase = $em->createQuery('DELETE HospitalBundle:HmsPurchase e WHERE e.hospitalConfig = '.$config);
        $hmsPurchase->execute();

        $HmsServiceGroup = $em->createQuery('DELETE HospitalBundle:HmsServiceGroup e WHERE e.hospitalConfig = '.$config);
        $HmsServiceGroup->execute();

        $Particular = $em->createQuery('DELETE HospitalBundle:Particular e WHERE e.hospitalConfig = '.$config);
        $Particular->execute();

        $HmsServiceGroup = $em->createQuery('DELETE HospitalBundle:HmsServiceGroup e WHERE e.hospitalConfig = '.$config);
        $HmsServiceGroup->execute();

    }
}
