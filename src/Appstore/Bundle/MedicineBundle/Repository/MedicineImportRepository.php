<?php

namespace Appstore\Bundle\MedicineBundle\Repository;
use Appstore\Bundle\MedicineBundle\Entity\MedicineImport;
use Doctrine\ORM\EntityRepository;



/**
 * HmsVendorRepository
 *
 * This class was generated by the Doctrine ORM. Add your own custom
 * repository methods below.
 */
class MedicineImportRepository extends EntityRepository
{
    public function fileUpload(MedicineImport $entity,$data = '')
    {

        $em = $this->_em;
        if(isset($file['file'])){
            $img = $file['file'];
            $fileName = $img->getClientOriginalName();
            $imgName =  uniqid(). '.' .$fileName;
            $img->move($entity->getUploadDir(), $imgName);
            $entity->setFile($imgName);
        }
        $em->persist($entity);
        $em->flush();

    }

}
